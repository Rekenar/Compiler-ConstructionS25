### Task 1 If statements and conditions
Determine the sequence of MJVM instructions generated by the attributed grammar presented on lecture slides 70-74 for the 
following if statement. For each generated instruction, give the production and semantic action of the attributed grammar 
that emits the instruction. For jump instructions, also explain when the target address is written to the code buffer. 
x and y are local variables at addresses 0 and 1, respectively.

if (x < 0 || x > 10 && x < 20) y = 1;
else y = 0;


| Addr | Instruction | Grammar Source / Notes                        |
| ---- | ----------- | --------------------------------------------- |
| 0    | `load0`     | `x` (Expr → Factor → Designator)              |
| 1    | `const0`    | constant 0                                    |
| 2    | `jge L1`    | false of `x < 0` → jump to next term (fLabel) |
| 5    | `jmp L2`    | true: go to true block (tLabel)               |
| 8    | `L1:`       | start second condition                        |
| 8    | `load0`     | `x`                                           |
| 9    | `const10`   | constant 10                                   |
| 10   | `jle L3`    | false of `x > 10` (fLabel)                    |
| 13   | `load0`     | `x`                                           |
| 14   | `const20`   | constant 20                                   |
| 15   | `jge L3`    | false of `x < 20` (fLabel)                    |
| 18   | `jmp L2`    | true jump to true block                       |
| 21   | `L3:`       | else block start                              |
| 21   | `const0`    | value for `y = 0`                             |
| 22   | `store1`    | store to `y`                                  |
| 23   | `jmp L4`    | jump to end                                   |
| 26   | `L2:`       | true block                                    |
| 26   | `const1`    | value for `y = 1`                             |
| 27   | `store1`    | store to `y`                                  |
| 28   | `L4:`       | end of if-else                                |


| Label | Resolved At | Patch Done                          |
| ----- | ----------- | ----------------------------------- |
| L1    | addr 8      | in `here()` after jge at addr 2     |
| L2    | addr 26     | in `here()` after jumps at 5 and 18 |
| L3    | addr 21     | in `here()` after jle/jge at 10/15  |
| L4    | addr 28     | in `here()` after `jmp` at 23       |

| Label | Used At Addr | Defined At Addr | Description              |
| ----- | ------------ | --------------- | ------------------------ |
| L1    | 2            | 8               | Jump if `x >= 0`         |
| L2    | 5, 18        | 26              | Jump to `y = 1` block    |
| L3    | 10, 15       | 21              | Jump to `else` block     |
| L4    | 23           | 28              | Final jump after if/else |


1. load0 – load x
Production: Expr → Term → Factor → Designator

Semantic Action: Code.load(x) for variable x

2. const0 – load constant 0
Production: Factor → number

Semantic Action: Operand x = new Operand(0); Code.load(x);

3. jge L1 – jump if x >= 0 to skip this branch
Production: CondFactor → Expr Relop Expr

Semantic Action: Code.fJump(op, fLabel) with op = lt (inverted to jge)

Target Address: not known yet; added to fixup list

4. jmp L2 – jump to true block
Production: Condition → CondTerm { "||" CondTerm }

Semantic Action: Code.tJump(op, tLabel)

Target Address: not known yet

Label L1: (for false of first part of OR)
5. load0 – load x
Production: Expr → Term → Factor → Designator

6. const10
Production: Factor → number

7. jle L3 – jump if x <= 10 fails
Semantic Action: Code.fJump(op, fLabel) for x > 10 (inverted to jle)

8. load0
Production: again for x

9. const20
Production: Factor → number

10. jge L3 – jump if x >= 20 fails
Semantic Action: x < 20 ⇒ jge means not < 20

11. jmp L2 – jump to true block
Code.tJump(...)

Label L3: (condition false, go to else block)
12. const0
Production: Factor → number

Semantic Action: Code.load(x) for value 0

13. store1 – store into y
Code.assignTo(x) with x.kind = Local

14. jmp L4 – jump to end
Unconditional jump after else

Label L2: (condition true block)
15. const1
Code.load(x) for value 1

16. store1
Code.assignTo(x) for y

Label L4: (end of if-else)
No instruction — label position only.